################################################################################
# File:    buskill.kv
# Purpose: This is the kivy styles used to setup the layout in the buskill gui
#          For more info, see: https://buskill.in/
# Authors: Michael Altfield <michael@buskill.in>
# Created: 2020-06-23
# Updated: 2020-06-23
# Version: 0.1
################################################################################

#:import MDToolbar kivymd.uix.toolbar
#:import MDLabel kivymd.uix.label

<CriticalError>:

	msg: msg

	orientation: 'vertical'
	pos_hint: {'center_x': 0.5, 'top': 0.95}
	size_hint: ( 0.9, 0.9 )
	spacing: 10

	TextInput:
		id: msg
		size_hint: (1,2)
		readonly: True

	Button:
		size_hint: (1,1)
		text: 'Click to file a bug report'
		halign: 'center'
		valign: 'middle'
		on_release: root.fileBugReport()

<MainWindow>:
	orientation: 'vertical'
	size_hint: ( 1, 0.95 )
	pos_hint: {'top': 1}

	toggle_btn: toggle_btn
	status: status

	primary_color: app.theme_cls.primary_color
	red_color: 95.7,26.3,21.2,1

	ActionBar:

		ActionView:
			background_image: 'images/white.png'
			background_color: app.theme_cls.primary_color

			ActionPrevious:
				with_previous: False
				app_icon: 'images/menu.png'
				markup: True
				title: '[font=RobotoMedium][size=20]BusKill[/size][/font]'
				on_release: root.toggleMenu()

			ActionButton:
				text: '[font=Icons]\U000F0020[/font]'
				markup: True
			ActionButton:
				text: 'B'
			ActionButton:
				text: 'C'
			ActionButton:
				text: 'D'

	MDToolbar:
		title: 'BusKill'
		right_action_items: [ ['magnify', lambda x: print(x)], ['coffee', lambda x: print(x)], ['duck', lambda x: print(x)], ['earth', lambda x: print(app.theme_cls)] ]

	BoxLayout:

		orientation: 'vertical'
		size_hint: ( 0.9, 1 )
		pos_hint: {'center_x': 0.5, 'top': 1}
		spacing: 10

		MDLabel:
			id: status 
			text: "BusKill is currently disarmed."
			theme_text_color: 'Primary'
			size_hint: (1,2)
			halign: 'center'
			valign: 'middle'

		MDRaisedButton:
			id: toggle_btn
			text: "Arm"
			#md_bg_color: 1,0,0,1
			size_hint: (1,1)
			halign: 'center'
			valign: 'middle'
			on_release: root.toggleBusKill()

